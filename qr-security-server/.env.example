# ══════════════════════════════════════════════════════════════
# QR Security Scanner — Server Environment Configuration
# ══════════════════════════════════════════════════════════════
# Copy this file to .env and fill in the values.
#
#   cp .env.example .env
#
# All values have sensible defaults for development.
# For production, you MUST set at least API_KEY.
# ══════════════════════════════════════════════════════════════

# ── Authentication ────────────────────────────────────────────
# API key that the mobile app must send in X-API-Key header.
# Leave empty to disable authentication (dev mode only!).
# Generate one with: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEY=

# ── CORS ──────────────────────────────────────────────────────
# Comma-separated list of allowed origins. Use ["*"] for dev.
# BACKEND_CORS_ORIGINS=["*"]

# ── Rate Limiting ─────────────────────────────────────────────
# Max scan requests per minute per IP address.
RATE_LIMIT_PER_MINUTE=30

# ── Reverse Proxy ─────────────────────────────────────────────
# Number of trusted reverse proxy hops in front of this server.
# 0 = direct (no proxy). 1 = one nginx/caddy/ALB hop.
# Only set > 0 when a real trusted proxy is confirmed present.
# See config.py for full explanation.
TRUSTED_PROXY_COUNT=0

# ── Environment ───────────────────────────────────────────────
# "dev"        — no API key required, CORS allows *
# "production" — API_KEY must be set, CORS wildcard rejected
ENVIRONMENT=dev

# ── Input Validation ──────────────────────────────────────────
MAX_URL_LENGTH=2048

# ── ML Models ─────────────────────────────────────────────────
MODEL_DIR=models

# ── Timeouts (seconds) ───────────────────────────────────────
NETWORK_TIMEOUT=8.0
WHOIS_TIMEOUT=5.0

# ── Cache ─────────────────────────────────────────────────────
CACHE_MAX_SIZE=2000
CACHE_TTL=3600
